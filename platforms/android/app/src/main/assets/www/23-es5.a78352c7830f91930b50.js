function _defineProperties(n,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{ofdr:function(n,e,t){"use strict";t.r(e);var l=t("8Y7J"),i=function n(){_classCallCheck(this,n)},r=t("pMnS"),c=t("MKJQ"),s=t("sZkV"),u=t("SVse"),a=t("s7LF"),o=t("mrSG"),b=t("/lBd"),p=t("DMZm"),h=t("mpJo"),g=t("n90K"),m=t("2rUM"),f=t("P64T"),d=function(){function n(e,t,l,i,r,c,s,u,a){_classCallCheck(this,n),this.activateRoute=e,this.subscriptionsService=t,this.referencesService=l,this.adsService=i,this.coreService=r,this.storageService=c,this.translatesService=s,this.pickerController=u,this.cdr=a,this.subscriptionsYears=[],this.settings=[]}return _createClass(n,[{key:"trackByFn",value:function(n){return n}},{key:"ngOnInit",value:function(){return o.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.id=this.activateRoute.snapshot.params.id,this.category=this.referencesService.getByCategory(this.id),n.next=4,this.subscriptionsService.getCache();case 4:return this.subscriptions=n.sent,this.subscriptions&&this.setToggles(),n.next=8,this.subscriptionsService.get();case 8:this.subscriptions=n.sent,this.setToggles();case 10:case"end":return n.stop()}}),n,this)})))}},{key:"setToggles",value:function(){var n=this;this.subscriptions.forEach((function(e){n.subscriptionsYears[e.category]={min:e.min?e.min:(new Date).getFullYear()-100,max:e.min?e.max:(new Date).getFullYear()}})),this.subscriptions=this.subscriptions.map((function(n){return n.category})),this.settings=this.category.models.map((function(e){return n.subscriptions.includes(n.subscriptionsService.transliterate("".concat(n.category.name,"_").concat(e)))}))}},{key:"checkYears",value:function(n){return this.subscriptionsYears[this.subscriptionsService.transliterate("".concat(this.category.name,"_").concat(n))]}},{key:"changeSubscription",value:function(n,e,t){return o.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function l(){var i,r;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!n.target.checked){l.next=5;break}return l.next=3,this.subscriptionsService.delete("".concat(this.category.name,"_").concat(e));case 3:l.next=9;break;case 5:return i=(new Date).getFullYear()-100,r=(new Date).getFullYear(),this.subscriptionsYears[this.subscriptionsService.transliterate("".concat(this.category.name,"_").concat(e))]={min:i,max:r},l.next=9,this.subscriptionsService.add("".concat(this.category.name,"_").concat(e),i,r);case 9:return l.next=11,this.adsService.getAll();case 11:this.settings[t]=n.target.checked,this.cdr.detectChanges();case 13:case"end":return l.stop()}}),l,this)})))}},{key:"openChangeYears",value:function(n){return o.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,l,i,r,c,s,u,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.subscriptionsYears[this.subscriptionsService.transliterate("".concat(this.category.name,"_").concat(n))],l=[],i=(new Date).getFullYear(),r=i;r>=i-100;r--)l.push({text:r.toString(),value:r});for(c=[],s=i;s>=i-100;s--)c.push({text:s.toString(),value:s});return e.next=8,this.pickerController.create({columns:[{name:"min",options:l,selectedIndex:i-t.min},{name:"max",options:c,selectedIndex:i-t.max}],buttons:[{text:this.translatesService.getWord("Cancel"),role:"cancel"},{text:this.translatesService.getWord("Ok"),handler:function(e){e.max.value<e.min.value?(a.coreService.presentToast("subscriptionErrorDate","danger",5e3),a.openChangeYears(n)):(a.subscriptionsService.setYearSub("".concat(a.category.name,"_").concat(n),e.min.value,e.max.value),a.subscriptionsYears[a.subscriptionsService.transliterate("".concat(a.category.name,"_").concat(n))]={min:e.min.value,max:e.max.value},a.cdr.detectChanges())}}]});case 8:return u=e.sent,e.next=11,u.present();case 11:case"end":return e.stop()}}),e,this)})))}}]),n}(),v=t("iInd"),x=l.ob({encapsulation:0,styles:[[""]],data:{}});function k(n){return l.Mb(0,[(n()(),l.qb(0,0,null,null,3,"span",[["style","background: #d0d0d050;padding: 5px; border-radius: 10px;font-size: 11px;vertical-align: middle;color: var(--ion-color-primary);"]],null,null,null,null,null)),(n()(),l.Kb(1,null,[" "," - "," "])),(n()(),l.qb(2,0,null,null,1,"ion-icon",[["name","chevron-down"],["style","vertical-align: text-bottom;"]],null,null,null,c.ib,c.q)),l.pb(3,49152,null,0,s.D,[l.h,l.k,l.x],{name:[0,"name"]},null)],(function(n,e){n(e,3,0,"chevron-down")}),(function(n,e){var t=e.component;n(e,1,0,t.checkYears(e.parent.context.$implicit).min,t.checkYears(e.parent.context.$implicit).max)}))}function y(n){return l.Mb(0,[(n()(),l.qb(0,0,null,null,12,"ion-item",[],null,null,null,c.mb,c.u)),l.pb(1,49152,null,0,s.I,[l.h,l.k,l.x],null,null),(n()(),l.qb(2,0,null,0,2,"ion-label",[],null,null,null,c.nb,c.v)),l.pb(3,49152,null,0,s.O,[l.h,l.k,l.x],null,null),(n()(),l.Kb(4,0,["",""])),(n()(),l.qb(5,0,null,0,3,"ion-label",[["style","text-align: right;margin-right: 10px;"]],[[8,"hidden",0]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.openChangeYears(n.context.$implicit)&&l),l}),c.nb,c.v)),l.pb(6,49152,null,0,s.O,[l.h,l.k,l.x],null,null),(n()(),l.fb(16777216,null,0,1,null,k)),l.pb(8,16384,null,0,u.l,[l.N,l.J],{ngIf:[0,"ngIf"]},null),(n()(),l.qb(9,0,null,0,3,"ion-toggle",[["color","primary"],["mode","ios"]],null,[[null,"click"],[null,"ionBlur"],[null,"ionChange"]],(function(n,e,t){var i=!0,r=n.component;return"ionBlur"===e&&(i=!1!==l.Cb(n,12)._handleBlurEvent(t.target)&&i),"ionChange"===e&&(i=!1!==l.Cb(n,12)._handleIonChange(t.target)&&i),"click"===e&&(i=!1!==r.changeSubscription(t,n.context.$implicit,n.context.index)&&i),i}),c.Hb,c.P)),l.Hb(5120,null,a.e,(function(n){return[n]}),[s.d]),l.pb(11,49152,null,0,s.zb,[l.h,l.k,l.x],{checked:[0,"checked"],color:[1,"color"],mode:[2,"mode"]},null),l.pb(12,4341760,null,0,s.d,[l.p,l.k],null,null)],(function(n,e){var t=e.component;n(e,8,0,t.checkYears(e.context.$implicit)),n(e,11,0,t.settings[e.context.index],"primary","ios")}),(function(n,e){var t=e.component;n(e,4,0,e.context.$implicit),n(e,5,0,!t.settings[e.context.index])}))}function C(n){return l.Mb(0,[(n()(),l.qb(0,0,null,null,11,"ion-header",[],null,null,null,c.hb,c.p)),l.pb(1,49152,null,0,s.C,[l.h,l.k,l.x],null,null),(n()(),l.qb(2,0,null,0,9,"ion-toolbar",[],null,null,null,c.Ib,c.Q)),l.pb(3,49152,null,0,s.Ab,[l.h,l.k,l.x],null,null),(n()(),l.qb(4,0,null,0,2,"ion-title",[],null,null,null,c.Gb,c.O)),l.pb(5,49152,null,0,s.yb,[l.h,l.k,l.x],null,null),(n()(),l.Kb(6,0,["",""])),(n()(),l.qb(7,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,c.W,c.e)),l.pb(8,49152,null,0,s.m,[l.h,l.k,l.x],null,null),(n()(),l.qb(9,0,null,0,2,"ion-back-button",[["defaultHref","/"]],null,[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l.Cb(n,11).onClick(t)&&i),i}),c.T,c.b)),l.pb(10,49152,null,0,s.h,[l.h,l.k,l.x],{defaultHref:[0,"defaultHref"]},null),l.pb(11,16384,null,0,s.i,[[2,s.gb],s.Gb,s.e],{defaultHref:[0,"defaultHref"]},null),(n()(),l.qb(12,0,null,null,5,"ion-content",[["fullscreen",""]],null,null,null,c.db,c.l)),l.pb(13,49152,null,0,s.v,[l.h,l.k,l.x],{fullscreen:[0,"fullscreen"]},null),(n()(),l.qb(14,0,null,0,3,"ion-list",[["lines","full"]],null,null,null,c.pb,c.w)),l.pb(15,49152,null,0,s.P,[l.h,l.k,l.x],{lines:[0,"lines"]},null),(n()(),l.fb(16777216,null,0,1,null,y)),l.pb(17,278528,null,0,u.k,[l.N,l.J,l.q],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(n,e){var t=e.component;n(e,10,0,"/"),n(e,11,0,"/"),n(e,13,0,""),n(e,15,0,"full"),n(e,17,0,t.category.models,t.trackByFn)}),(function(n,e){n(e,6,0,e.component.category.name)}))}var S=l.mb("app-subscription-detail",d,(function(n){return l.Mb(0,[(n()(),l.qb(0,0,null,null,1,"app-subscription-detail",[],null,null,null,C,x)),l.pb(1,114688,null,0,d,[v.a,p.a,b.a,h.a,f.a,g.a,m.a,s.Hb,l.h],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),w=function n(){_classCallCheck(this,n)};t.d(e,"SubscriptionDetailPageModuleNgFactory",(function(){return _}));var _=l.nb(i,[],(function(n){return l.zb([l.Ab(512,l.j,l.Y,[[8,[r.a,S]],[3,l.j],l.v]),l.Ab(4608,u.n,u.m,[l.s,[2,u.y]]),l.Ab(4608,a.j,a.j,[]),l.Ab(4608,s.c,s.c,[l.x,l.g]),l.Ab(4608,s.Fb,s.Fb,[s.c,l.j,l.p]),l.Ab(4608,s.Jb,s.Jb,[s.c,l.j,l.p]),l.Ab(1073742336,u.c,u.c,[]),l.Ab(1073742336,a.i,a.i,[]),l.Ab(1073742336,a.c,a.c,[]),l.Ab(1073742336,s.Cb,s.Cb,[]),l.Ab(1073742336,v.p,v.p,[[2,v.u],[2,v.n]]),l.Ab(1073742336,w,w,[]),l.Ab(1073742336,i,i,[]),l.Ab(1024,v.l,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);