(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/9Oo":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s("8Y7J");s("ndxW");class r{constructor(e){this.stateService=e,this._sellers=[],this.loadMoreEmitter=new i.m,this.sellersArray=[],this.sellersLoaded=!1}set sellers(e){e&&this.category&&(this._sellers=e.map(e=>Object.assign({},e,{sub:e.subscriptions.filter(e=>e.category===this.category)[0]})))}trackByFn(e,t){return t._id.toString()}ngOnChanges(){console.log("New data: ",this.sellersArray)}ngOnInit(){this.stateService.stateChanged.subscribe(e=>{console.log("New sellers: ",e),this._sellers=e.map(e=>Object.assign({},e,{sub:e.subscriptions.filter(e=>e.category===this.category)[0]}))})}callPhone(e){window.location.href="tel:"+e}loadMore(e){console.log(e),this.loadMoreEmitter.emit(e)}ngOnDestroy(){}}},"/LYu":function(e,t,s){"use strict";var i=s("mrSG"),r=(s("usHs"),s("DMZm"),s("P64T"),s("SxV6")),n=s("GJmQ");s("kXdw");class a{constructor(){}}class l{constructor(){}}s("KSpV"),s("/lBd"),s("2rUM"),s("Hzbo"),s("BtvW"),s("ndxW"),s.d(t,"a",(function(){return h}));class h{constructor(e,t,s,i,r,n,h,o,c,u,d){this.coreService=e,this.offersService=t,this.subscriptionsService=s,this.sellersService=i,this.referencesService=r,this.translatesService=n,this.messagesService=h,this.ngZone=o,this.cdr=c,this.advService=u,this.stateService=d,this.alive=!0,this.loaded=!1,this.seller=new a,this.client=new a,this.filter="offers",this.offer=new l,this.offers=[],this.sellersLoading=!0,this.sellersLoaded=!1,this.offersLoading=!0,this.customPatterns={A:{pattern:new RegExp("^[0-9]*[.]?[0-9]*?$")}},this.disableBtn=!1,this.sellers=[],this.subscriptionsOffset=0,this.showSellers=!0}responseChange(e){e.target.value||"0"!=e.key||(e.stopPropagation(),e.preventDefault(),this.offer.price="")}goToAdv(e){window.location.href=e}ChangeSelect(e,t){return i.__awaiter(this,void 0,void 0,(function*(){e.region&&(this.cities=yield this.referencesService.getCityByRegion(e.region),e.city=t?null:e.city)}))}responseInput(e){e.data||"0"!==e.target.value[0]?"0"===e.data&&"0"===e.target.value[0]&&(e.target.value=e.target.value.replace(/^0/,""),this.offer.price=e.target.value):(e.target.value=e.target.value.replace(/^0+/,""),this.offer.price=e.target.value)}init(){return i.__awaiter(this,void 0,void 0,(function*(){this.myAd?(this.advService.getRandom().then(e=>{this.adv=e}),this.offersService.getOffersByAd(this.ad._id.toString(),!1,this.ad.aliasCategory).then(e=>{this.getSubscriptions(),this.offers=e,e.forEach(e=>{console.log("Element: ",e)}),this.offersLoading=!1})):this.myAd||(console.log("Else if"),this.offers=yield this.offersService.getOfferCacheByAd(this.ad._id.toString()),this.offers&&(this.loaded=!0),this.seller=yield this.sellersService.getMy().pipe(Object(r.a)()).toPromise(),this.client=yield this.sellersService.getByUid(this.ad.user),this.offers=yield this.offersService.getOffersByAd(this.ad._id.toString(),!0),this.loaded=!0)}))}segmentChanged(e){this.filter=e.detail.value}callPhone(e){window.location.href="tel:"+e}getSubscriptions(){return i.__awaiter(this,void 0,void 0,(function*(){this.subscriptions=yield this.subscriptionsService.getSubscriptionCount(this.ad.aliasCategory,this.ad.region,this.ad.year,this.ad.state),"Any"!==this.ad.state&&(this.subscriptions=this.subscriptions.filter(e=>e.state==this.ad.state||!e.state||"Any"==e.state)),this.uids=this.subscriptions.map(e=>e.user),this.sellersService.getSellerCountByUid(null,this.uids).then(e=>{this.subsCount=e[0]?e[0].count:0,this.loaded=0==this.offersLoading,this.sellersLoading=!1}),this.sellers=yield this.sellersService.getSellerByUid(this.ad._id.toString(),this.uids,this.subscriptionsOffset),this.sellersLoaded=!0,this.loaded=!0}))}loadMoreSubscriptions(e){return i.__awaiter(this,void 0,void 0,(function*(){console.log("Load more"),console.log("Offset: ",this.subscriptionsOffset),this.subscriptionsOffset+=10,console.log("Offset: ",this.subscriptionsOffset),this.sellersService.getSellerByUid(this.ad._id.toString(),this.uids,this.subscriptionsOffset).then(t=>{console.log("res: ",t),this.sellers.push(...t),this.showSellers=!1,this.showSellers=!0,console.log("Sellers: ",this.sellers),e.target.complete(),this.stateService.stateChanged.next(this.sellers)})}))}checkOffer(e){return!e.price&&!e.text||this.disableBtn}checkSeller(e){const t=e.phone.length<this.phoneLength(this.translatesService.getWord("NumberLength"));return!e.name||!e.city||t||!e.address||this.disableBtn}ngOnInit(){this.init(),this.referencesService.getAllRegions().then(e=>{this.regions=e}),this.coreService.dataRefresh.pipe(Object(n.a)(()=>this.alive)).subscribe(()=>this.init())}ngOnDestroy(){this.alive=!1}phoneLength(e){return parseInt(e)}addSellerAndOffer(e,t){return i.__awaiter(this,void 0,void 0,(function*(){this.disableBtn=!0,yield this.sellersService.update(e),yield this.addOffer(t)}))}getUnread(e,t){return this.messagesService.getUnreadItem(e,t)}addOffer(e){return i.__awaiter(this,void 0,void 0,(function*(){this.disableBtn=!0,yield this.coreService.presentLoading("SendOffer"),e.ad=this.ad._id.toString(),e.text=this.offer.text&&this.offer.text.length?`${e.text}${this.translatesService.getWord("responseTemplate")}`:""+this.translatesService.getWord("notTextResponse"),yield this.offersService.add(e,this.ad.user),this.coreService.dataRefresh.next(),yield this.coreService.dismissLoading(),this.disableBtn=!1}))}notHaveOffer(e){return i.__awaiter(this,void 0,void 0,(function*(){this.disableBtn=!0,yield this.coreService.presentLoading("SendOffer"),e.ad=this.ad._id.toString(),e.text=""+this.translatesService.getWord("NotAvailableTextResponse"),e.not_available=!0,yield this.offersService.add(e,this.ad.user),this.coreService.dataRefresh.next(),yield this.coreService.dismissLoading(),this.disableBtn=!1}))}}},"1jS7":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s("8Y7J");s("jT/F");class r{constructor(e){this.uploadService=e,this.fileUploaded=new i.m}ngOnInit(){this.file&&(this.uploadService.pushFileToStorage(this.file),this.uploadService.completed$.subscribe(e=>{this.fileUploaded.emit(e)}))}}},"4Em8":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));class i{constructor(){}}},"68W0":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var i=s("mrSG"),r=s("8Y7J");s("Pn9U"),s("t8sF"),s("AcVp"),s("2rUM");class n{constructor(e,t,s,i,n,a){this.platform=e,this.camera=t,this.file=s,this.backgroundMode=i,this.actionSheetController=n,this.translatesService=a,this.name="cloud-upload",this.selectedFile=new r.m,this.options={quality:50,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:800,targetHeight:800,correctOrientation:!0},this.optionsBackground={id:-1,title:this.translatesService.getWord("Load"),text:this.translatesService.getWord("WaitImage"),hidden:!1,silent:!1,sticky:!0,resume:!1,foreground:!0}}ngOnInit(){}actionSheetChoiceFile(){return i.__awaiter(this,void 0,void 0,(function*(){if(this.platform.is("cordova")){const e=yield this.actionSheetController.create({header:this.translatesService.getWord("PhotoSource"),buttons:[{text:this.translatesService.getWord("Camera"),icon:"camera",handler:()=>{this.selectImage(this.camera.PictureSourceType.CAMERA)}},{text:this.translatesService.getWord("Album"),icon:"image",handler:()=>{this.selectImage(this.camera.PictureSourceType.PHOTOLIBRARY)}},{text:this.translatesService.getWord("Cancel"),icon:"close",role:"cancel"}]});yield e.present()}else this.fileUploadWeb.nativeElement.click()}))}selectImage(e){return i.__awaiter(this,void 0,void 0,(function*(){this.backgroundMode.setDefaults(this.optionsBackground),this.backgroundMode.enable(),this.options.sourceType=e,this.options.allowEdit=e===this.camera.PictureSourceType.PHOTOLIBRARY,this.camera.getPicture(this.options).then(e=>i.__awaiter(this,void 0,void 0,(function*(){const t=yield this.makeFileIntoBlob(e);this.returnFile(t.imgBlob),setTimeout(()=>{this.backgroundMode.disable()},2e3)}))).catch(()=>{setTimeout(()=>{this.backgroundMode.disable()},2e3)})}))}makeFileIntoBlob(e){return new Promise((t,s)=>{let i="";this.file.resolveLocalFilesystemUrl(e).then(e=>{let{name:t,nativeURL:s}=e,r=s.substring(0,s.lastIndexOf("/"));return i=t,this.file.readAsArrayBuffer(r,t)}).then(e=>{let s=new Blob([e],{type:"image/jpeg"});t({fileName:i,imgBlob:s})}).catch(e=>s(e))})}returnFile(e){this.selectedFile.emit(e)}}},"6XD3":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));class i{transform(e,...t){if(Array.isArray(e))return e.sort((e,t)=>e.sub.vip===t.sub.vip?0:e.sub.vip?-1:t.sub.vip?1:void 0),e}}},BtvW:function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var i=s("mrSG"),r=s("n90K"),n=s("SxV6"),a=s("8Y7J"),l=s("PVcy");let h=(()=>{class e{constructor(e,t){this.afd=e,this.storageService=t}getRandom(){return i.__awaiter(this,void 0,void 0,(function*(){const e=yield this.storageService.get("language"),t=(yield this.afd.list("/advertising",t=>t.orderByChild("lang").equalTo(e)).snapshotChanges().pipe(Object(n.a)()).toPromise()).map(e=>Object.assign({id:e.key},e.payload.val()));return t[Math.floor(Math.random()*t.length)]}))}}return e.ngInjectableDef=a.Qb({factory:function(){return new e(a.Rb(l.a),a.Rb(r.a))},token:e,providedIn:"root"}),e})()},EFqu:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));class i{constructor(e){this.modalController=e,this.sliderOpts={centeredSlides:!0,allowTouchMove:!1}}close(){this.modalController.dismiss()}}},Ewk1:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));class i{transform(e,...t){if(Array.isArray(e))return e.sort((e,t)=>e.rating<t.rating?1:e.rating>t.rating?-1:0),e}}},GJmQ:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s("7o/Q");function r(e,t=!1){return s=>s.lift(new n(e,t))}class n{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new a(e,this.predicate,this.inclusive))}}class a extends i.a{constructor(e,t,s){super(e),this.predicate=t,this.inclusive=s,this.index=0}_next(e){const t=this.destination;let s;try{s=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,s)}nextOrComplete(e,t){const s=this.destination;Boolean(t)?s.next(e):(this.inclusive&&s.next(e),s.complete())}}},KSpV:function(e,t,s){"use strict";s.d(t,"a",(function(){return f}));var i=s("mrSG"),r=s("lGQG"),n=s("tLCv"),a=s("kXdw"),l=s("Hzbo"),h=s("4Em8"),o=s("2Vo4"),c=s("lJxs"),u=s("n90K"),d=s("8Y7J");let f=(()=>{class e{constructor(e,t,s,i,r,n){this.authService=e,this.stitchService=t,this.sellersService=s,this.messagesService=i,this.storageService=r,this.ngZone=n,this.myOffers=new o.a([]),this.init()}init(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.stitchService.checkInitedDb(),this.offersCollection=this.stitchService.db.collection("offers")}))}getOffersCache(){return i.__awaiter(this,void 0,void 0,(function*(){const e=JSON.parse(yield this.storageService.getIonicStorage("offers"));this.myOffers.next(e)}))}getOfferCacheByAd(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=JSON.parse(yield this.storageService.getIonicStorage("offers_"+e));if(t&&t.length){const s=t.find(t=>t.ad==e);return s?[s]:null}}))}add(e,t){return i.__awaiter(this,void 0,void 0,(function*(){e.dateCreate=new Date,e.user=this.authService.getLogin();const s=yield this.stitchService.callFunction("newOffer",e),i=new h.a;i.ad=e.ad,i.to=t,i.offer=s.toString(),i.text=e.text,yield this.messagesService.add(i,!1)}))}getOffersByAd(e,t=!1,s){return i.__awaiter(this,void 0,void 0,(function*(){yield this.authService.getStitchAuth();const r={ad:e};t&&(r.user=this.authService.getLogin());const n={sort:{dateCreate:-1}};return new Promise((e,t)=>{e(this.offersCollection.find(r,n).toArray())}).then(e=>{console.log("Offers: ",e);var t=new Map;return e.forEach(e=>{t.set(e.user,{seller:null})}),this.sellersService.getSellerByUidVisibleOmitted(null,Array.from(t.keys())).then(r=>{r.forEach(e=>{t.get(e.uid).seller=e});var n=[];return e.forEach((e,r)=>i.__awaiter(this,void 0,void 0,(function*(){n.push(Object.assign({},e,{userInfo:t.get(e.user).seller,sub:null!=t.get(e.user).seller.subscriptions.filter(e=>e.category==s)[0]?t.get(e.user).seller.subscriptions.filter(e=>e.category==s)[0]:{vip:!1,rating:0}}))}))),n})})}))}getOffersBySellerInit(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.authService.getStitchAuth(),this.getOffersBySeller();const e={"fullDocument.user":this.authService.getLogin()};this.stitchService.watch$(this.offersCollection,e).subscribe(e=>{const t=e.fullDocument;if("insert"==e.operationType){const e=[...this.myOffers.getValue(),t];this.ngZone.run(()=>{this.myOffers.next(e),this.storageService.setIonicStorage("offers",JSON.stringify(e))})}})}))}getOffersBySeller(){return i.__awaiter(this,void 0,void 0,(function*(){this.getOffersCache();let e=new Date;e.setDate(e.getDate()-10);const t={user:this.authService.getLogin(),dateCreate:{$gte:e}},s=yield this.offersCollection.find(t,{sort:{dateCreate:-1}}).toArray();this.myOffers.next(s),yield this.storageService.setIonicStorage("offers",JSON.stringify(s))}))}getOfferItemByAd(e){return this.myOffers.pipe(Object(c.a)(t=>t.find(t=>t.ad===e)))}watch(e){return this.stitchService.watch$(this.offersCollection,{"fullDocument.ad":e})}}return e.ngInjectableDef=d.Qb({factory:function(){return new e(d.Rb(r.a),d.Rb(n.a),d.Rb(a.a),d.Rb(l.a),d.Rb(u.a),d.Rb(d.x))},token:e,providedIn:"root"}),e})()},SZog:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("mrSG"),r=s("8Y7J"),n=(s("jT/F"),s("EFqu"));s("2rUM");class a{constructor(e,t,s,i,n){this.uploadService=e,this.modalController=t,this.cdr=s,this.actionSheetController=i,this.translatesService=n,this.files=[],this.readOnly=!1,this.imagesChange=new r.m,this.allow=!1}get images(){return this.files}set images(e){this.files=e,this.imagesChange.emit(this.files),this.checkCount()}ngOnInit(){this.files||(this.files=[]),this.checkCount()}ngOnDestroy(){this.cdr.detach()}checkCount(){this.allow=!this.files||this.files.length<this.count,this.cdr.detectChanges()}openPreview(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:n.a,componentProps:{img:e}});yield t.present()}))}actionSheetChoiceAction(e){return i.__awaiter(this,void 0,void 0,(function*(){if(this.readOnly)return this.openPreview(e);const t=yield this.actionSheetController.create({header:this.translatesService.getWord("Action"),buttons:[{text:this.translatesService.getWord("FullScreen"),icon:"open",handler:()=>{this.openPreview(e)}},{text:this.translatesService.getWord("Delete"),role:"destructive",icon:"trash",handler:()=>{this.files.splice(this.files.indexOf(e),1),this.checkCount()}},{text:this.translatesService.getWord("Cancel"),icon:"close",role:"cancel"}]});yield t.present()}))}onFileSelect(e){this.selectedFile=e,this.cdr.detectChanges()}onFileUploaded(e){this.selectedFile=null,this.images=this.files.concat(e),this.checkCount()}}},bOtU:function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return u})),s.d(t,"c",(function(){return f})),s.d(t,"d",(function(){return d})),s.d(t,"e",(function(){return a})),s.d(t,"f",(function(){return p})),s.d(t,"g",(function(){return g})),s.d(t,"h",(function(){return n})),s.d(t,"i",(function(){return h}));var i=s("8Y7J"),r=s("mrSG");const n=new i.o("config"),a=new i.o("NEW_CONFIG"),l=new i.o("INITIAL_CONFIG"),h={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},o=["Hh:m0:s0","Hh:m0","m0:s0"],c=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];class u{constructor(e){this._config=e,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(e,t,s,i)=>{const r=e.split(s),n=r.length>1?`${s}${r[1]}`:"";let a=r[0];const l=this.separatorLimit.replace(/\s/g,"");l&&+l&&(a="-"===a[0]?"-"+a.slice(1,a.length).slice(0,l.length):a.slice(0,l.length));const h=/(\d+)(\d{3})/;for(;h.test(a);)a=a.replace(h,"$1"+t+"$2");return void 0===i?a+n:0===i?a:a+n.substr(0,i+1)},this.percentage=e=>Number(e)>=0&&Number(e)<=100,this.getPrecision=e=>{const t=e.split(".");return t.length>1?Number(t[t.length-1]):1/0},this.checkInputPrecision=(e,t,s)=>{if(t<1/0){const i=new RegExp(this._charToRegExpExpression(s)+`\\d{${t}}.*$`),r=e.match(i);(r&&r[0].length-1>t||0===t&&e.endsWith(s))&&(e=e.substring(0,e.length-1))}return e},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers}applyMaskWithPattern(e,t){const[s,i]=t;return this.customPattern=i,this.applyMask(e,s)}applyMask(e,t,s=0,i=(()=>{})){if(null==e||void 0===t)return"";let r=0,n="",a=!1,l=!1,h=1,o=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&e.endsWith(this.suffix)&&(e=e.slice(0,e.length-this.suffix.length));const c=e.toString().split("");if("IP"===t&&(this.ipError=!!(c.filter(e=>"."===e).length<3&&c.length<7),t="099.099.099.099"),t.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/]/)){e=this._stripToDecimal(e);const s=this.getPrecision(t);e=this.checkInputPrecision(e,s,".")}if(e.indexOf(".")>0&&!this.percentage(e.substring(0,e.indexOf(".")))){const t=e.substring(0,e.indexOf(".")-1);e=`${t}${e.substring(e.indexOf("."),e.length)}`}n=this.percentage(e)?e:e.substring(0,e.length-1)}else if(t.startsWith("separator")){(e.match("[w\u0430-\u044f\u0410-\u042f]")||e.match("[\u0401\u0451\u0410-\u044f]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e)),e=e.length>1&&"0"===e[0]&&e[1]!==this.decimalMarker?e.slice(1,e.length):e;const i=this._charToRegExpExpression(this.thousandSeparator),r=this._charToRegExpExpression(this.decimalMarker),a='@#!$%^&*()_+|~=`{}\\[\\]:\\s,";<>?\\/'.replace(i,"").replace(r,""),o=new RegExp("["+a+"]");e.match(o)&&(e=e.substring(0,e.length-1));const c=this.getPrecision(t),u=(e=this.checkInputPrecision(e,c,this.decimalMarker)).replace(new RegExp(i,"g"),"");n=this._formatWithSeparators(u,this.thousandSeparator,this.decimalMarker,c);const d=n.indexOf(",")-e.indexOf(","),f=n.length-e.length;if(f>0&&","!==n[s]){l=!0;let e=0;do{this._shift.add(s+e),e++}while(e<f)}else 0!==d&&s>0&&!(n.indexOf(",")>=s&&s>3)||!(n.indexOf(".")>=s&&s>3)&&f<=0?(this._shift.clear(),l=!0,h=f,this._shift.add(s+=f)):this._shift.clear()}else for(let p=0,g=c[0];p<c.length&&r!==t.length;p++,g=c[p])if(this._checkSymbolMask(g,t[r])&&"?"===t[r+1])n+=g,r+=2;else if("*"===t[r+1]&&a&&this._checkSymbolMask(g,t[r+2]))n+=g,r+=3,a=!1;else if(this._checkSymbolMask(g,t[r])&&"*"===t[r+1])n+=g,a=!0;else if("?"===t[r+1]&&this._checkSymbolMask(g,t[r+2]))n+=g,r+=3;else if(this._checkSymbolMask(g,t[r])||this.hiddenInput&&this.maskAvailablePatterns[t[r]]&&this.maskAvailablePatterns[t[r]].symbol===g){if("H"===t[r]&&Number(g)>2){r+=1;const e=/[*?]/g.test(t.slice(0,r))?c.length:r;this._shift.add(e+this.prefix.length||0),p--;continue}if("h"===t[r]&&"2"===n&&Number(g)>3){r+=1,p--;continue}if("m"===t[r]&&Number(g)>5){r+=1;const e=/[*?]/g.test(t.slice(0,r))?c.length:r;this._shift.add(e+this.prefix.length||0),p--;continue}if("s"===t[r]&&Number(g)>5){r+=1;const e=/[*?]/g.test(t.slice(0,r))?c.length:r;this._shift.add(e+this.prefix.length||0),p--;continue}const s=31;if("d"===t[r]&&(Number(e.slice(r,r+2))>s||"/"===e[r+1])){r+=1;const e=/[*?]/g.test(t.slice(0,r))?c.length:r;this._shift.add(e+this.prefix.length||0),p--;continue}if("M"===t[r]){const i=12,n=0===r&&(Number(g)>2||Number(e.slice(r,r+2))>i||"/"===e[r+1]),a=e.slice(r-3,r-1).includes("/")&&("/"===e[r-2]&&Number(e.slice(r-1,r+1))>i&&"/"!==e[r]||"/"===e[r]||"/"===e[r-3]&&Number(e.slice(r-2,r))>i&&"/"!==e[r-1]||"/"===e[r-1]),l=Number(e.slice(r-3,r-1))<=s&&!e.slice(r-3,r-1).includes("/")&&"/"===e[r-1]&&(Number(e.slice(r,r+2))>i||"/"===e[r+1]),h=Number(e.slice(r-3,r-1))>s&&!e.slice(r-3,r-1).includes("/")&&!e.slice(r-2,r).includes("/")&&Number(e.slice(r-2,r))>i,o=Number(e.slice(r-3,r-1))<=s&&!e.slice(r-3,r-1).includes("/")&&"/"!==e[r-1]&&Number(e.slice(r-1,r+1))>i;if(n||a||l||h||o){r+=1;const e=/[*?]/g.test(t.slice(0,r))?c.length:r;this._shift.add(e+this.prefix.length||0),p--;continue}}n+=g,r++}else if(-1!==this.maskSpecialCharacters.indexOf(t[r])){n+=t[r],r++;const e=/[*?]/g.test(t.slice(0,r))?c.length:r;this._shift.add(e+this.prefix.length||0),p--}else this.maskSpecialCharacters.indexOf(g)>-1&&this.maskAvailablePatterns[t[r]]&&this.maskAvailablePatterns[t[r]].optional?(c[r]&&"099.099.099.099"!==t&&(n+=c[r]),r++,p--):"*"===this.maskExpression[r+1]&&this._findSpecialChar(this.maskExpression[r+2])&&this._findSpecialChar(g)===this.maskExpression[r+2]&&a||"?"===this.maskExpression[r+1]&&this._findSpecialChar(this.maskExpression[r+2])&&this._findSpecialChar(g)===this.maskExpression[r+2]&&a?(r+=3,n+=g):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(g)<0&&g!==this.placeHolderCharacter&&(o=!0);n.length+1===t.length&&-1!==this.maskSpecialCharacters.indexOf(t[t.length-1])&&(n+=t[t.length-1]);let u=s+1;for(;this._shift.has(u);)h++,u++;let d=this._shift.has(s)?h:0;o&&d--,i(d,l),h<0&&this._shift.clear();let f=`${this.prefix}${n}${this.suffix}`;return 0===n.length&&(f=`${this.prefix}${n}`),f}_findSpecialChar(e){return this.maskSpecialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[t]&&this.maskAvailablePatterns[t].pattern&&this.maskAvailablePatterns[t].pattern.test(e)}_stripToDecimal(e){return e.split("").filter((e,t)=>e.match("^-?\\d")||"."===e||","===e||"-"===e&&0===t).join("")}_charToRegExpExpression(e){return" "===e?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?"\\"+e:e}}class d extends u{constructor(e,t,s,i){super(t),this.document=e,this._config=t,this._elementRef=s,this._renderer=i,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.onChange=e=>{},this._formElement=this._elementRef.nativeElement}applyMask(e,t,s=0,i=(()=>{})){if(!t)return e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const r=e&&"number"==typeof this.selStart?e[this.selStart]:"";let n="";if(void 0!==this.hiddenInput){let t=this.actualValue.split("");""!==e&&t.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(e.length>t.length?t.splice(this.selStart,0,r):e.length<t.length&&(t.length-e.length==1?t.splice(this.selStart-1,1):t.splice(this.selStart,this.selEnd-this.selStart))):t=[],n=this.actualValue.length?this.shiftTypedSymbols(t.join("")):e}n=Boolean(n)&&n.length?n:e;const a=super.applyMask(n,t,s,i);if(this.actualValue=this.getActualValue(a),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(e=>e!==this.decimalMarker)),this.formControlResult(a),!this.showMaskTyped)return this.hiddenInput&&a&&a.length?this.hideInput(a,this.maskExpression):a;const l=this.prefix+this.maskIsShown;return a+("IP"===this.maskExpression?l:l.slice(a.length))}applyValueChanges(e=0,t=(()=>{})){this._formElement.value=this.applyMask(this._formElement.value,this.maskExpression,e,t),this._formElement!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(e,t){return e.split("").map((e,s)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[t[s]]&&this.maskAvailablePatterns[t[s]].symbol?this.maskAvailablePatterns[t[s]].symbol:e).join("")}getActualValue(e){const t=e.split("").filter((e,t)=>this._checkSymbolMask(e,this.maskExpression[t])||this.maskSpecialCharacters.includes(this.maskExpression[t])&&e===this.maskExpression[t]);return t.join("")===e?t.join(""):e}shiftTypedSymbols(e){let t="";return(e&&e.split("").map((s,i)=>{if(this.maskSpecialCharacters.includes(e[i+1])&&e[i+1]!==this.maskExpression[i+1])return t=s,e[i+1];if(t.length){const e=t;return t="",e}return s})||[]).join("")}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}return this.showMaskTyped?e?this._checkForIp(e):this.maskExpression.replace(/\w/g,this.placeHolderCharacter):""}clearIfNotMatchFn(){this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==this._formElement.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(this._formElement.value,this.maskExpression))}set formElementProperty([e,t]){this._renderer.setProperty(this._formElement,e,t)}checkSpecialCharAmount(e){return e.split("").filter(e=>this._findSpecialChar(e)).length}_checkForIp(e){if("#"===e)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const t=[];for(let s=0;s<e.length;s++)e[s].match("\\d")&&t.push(e[s]);return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:""}formControlResult(e){Array.isArray(this.dropSpecialCharacters)?this.onChange(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters)):this.onChange(this.dropSpecialCharacters?this._checkSymbols(e):this._removeSuffix(this._removePrefix(e)))}_removeMask(e,t){return e?e.replace(this._regExpForRemove(t),""):e}_removePrefix(e){return this.prefix&&e?e.replace(this.prefix,""):e}_removeSuffix(e){return this.suffix&&e?e.replace(this.suffix,""):e}_retrieveSeparatorValue(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters)}_regExpForRemove(e){return new RegExp(e.map(e=>"\\"+e).join("|"),"gi")}_checkSymbols(e){if(""===e)return e;const t=this._retrieveSeparatorPrecision(this.maskExpression);let s=this._retrieveSeparatorValue(e);return"."!==this.decimalMarker&&(s=s.replace(this.decimalMarker,".")),this.isNumberValue?t?e===this.decimalMarker?null:this._checkPrecision(this.maskExpression,s):Number(s):s}_retrieveSeparatorPrecision(e){const t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){return e.indexOf("2")>0?Number(t).toFixed(2):Number(t)}}class f{constructor(e,t,s){this.document=e,this._maskService=t,this._config=s,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this._maskValue="",this._position=null,this.onChange=e=>{},this.onTouch=()=>{}}ngOnChanges(e){const{maskExpression:t,specialCharacters:s,patterns:i,prefix:r,suffix:n,thousandSeparator:a,decimalMarker:l,dropSpecialCharacters:h,hiddenInput:o,showMaskTyped:c,placeHolderCharacter:u,shownMaskExpression:d,showTemplate:f,clearIfNotMatch:p,validation:g,separatorLimit:m,allowNegativeNumbers:v}=e;if(t&&(this._maskValue=e.maskExpression.currentValue||""),s){if(!s.currentValue||!Array.isArray(s.currentValue))return;this._maskService.maskSpecialCharacters=e.specialCharacters.currentValue||[]}i&&i.currentValue&&(this._maskService.maskAvailablePatterns=i.currentValue),r&&(this._maskService.prefix=r.currentValue),n&&(this._maskService.suffix=n.currentValue),a&&(this._maskService.thousandSeparator=a.currentValue),l&&(this._maskService.decimalMarker=l.currentValue),h&&(this._maskService.dropSpecialCharacters=h.currentValue),o&&(this._maskService.hiddenInput=o.currentValue),c&&(this._maskService.showMaskTyped=c.currentValue),u&&(this._maskService.placeHolderCharacter=u.currentValue),d&&(this._maskService.shownMaskExpression=d.currentValue),f&&(this._maskService.showTemplate=f.currentValue),p&&(this._maskService.clearIfNotMatch=p.currentValue),g&&(this._maskService.validation=g.currentValue),m&&(this._maskService.separatorLimit=m.currentValue),v&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(e=>"-"!==e)),this._applyMask()}validate({value:e}){if(!this._maskService.validation)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskValue.startsWith("separator"))return null;if(c.includes(this._maskValue))return null;if(this._maskService.clearIfNotMatch)return null;if(o.includes(this._maskValue))return this._validateTime(e);if(e&&e.toString().length>=1){let t=0;for(const s in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[s].optional&&!0===this._maskService.maskAvailablePatterns[s].optional){if(this._maskValue.indexOf(s)!==this._maskValue.lastIndexOf(s)?t+=this._maskValue.split("").filter(e=>e===s).join("").length:-1!==this._maskValue.indexOf(s)&&t++,-1!==this._maskValue.indexOf(s)&&e.toString().length>=this._maskValue.indexOf(s))return null;if(t===this._maskValue.length)return null}if(1===this._maskValue.indexOf("{")&&e.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4)return null;if(1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&e.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&e.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(e);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const s=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-t:this._maskValue.length-t;if(e.toString().length<s)return this._createValidationError(e)}}return null}onInput(e){const t=e.target;if(this._inputValue=t.value,!this._maskValue)return void this.onChange(t.value);const s=1===t.selectionStart?t.selectionStart+this._maskService.prefix.length:t.selectionStart;let i=0,r=!1;if(this._maskService.applyValueChanges(s,(e,t)=>{i=e,r=t}),this.document.activeElement!==t)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let n=this._position?this._inputValue.length+s+i:s+("Backspace"!==this._code||r?i:0);n>this._getActualInputLength()&&(n=this._getActualInputLength()),t.setSelectionRange(n,n),(this.maskExpression.includes("H")||this.maskExpression.includes("M"))&&0===i&&t.setSelectionRange(t.selectionStart+1,t.selectionStart+1),this._position=null}onBlur(){this._maskService.clearIfNotMatchFn(),this.onTouch()}onFocus(e){const t=e.target;null!==t&&null!==t.selectionStart&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&38!==e.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(0,0)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const s=t.value&&t.value!==this._maskService.prefix?t.value:this._maskService.prefix+this._maskService.maskIsShown;t.value!==s&&(t.value=s),(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length?t.selectionStart=this._maskService.prefix.length:t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}onKeyDown(e){this._code=e.code?e.code:e.key;const t=e.target;if(this._inputValue=t.value,38===e.keyCode&&e.preventDefault(),37===e.keyCode||8===e.keyCode||46===e.keyCode){if(8===e.keyCode&&0===t.value.length&&(t.selectionStart=t.selectionEnd),8===e.keyCode&&0!==t.selectionStart)if(this.specialCharacters=this.specialCharacters||this._config.specialCharacters,this.prefix.length>1&&t.selectionStart<=this.prefix.length)t.setSelectionRange(this.prefix.length,this.prefix.length);else{if(this._inputValue.length!==t.selectionStart&&1!==t.selectionStart)for(;this.specialCharacters.includes(this._inputValue[t.selectionStart-1].toString())&&(this.prefix.length>=1&&t.selectionStart>this.prefix.length||0===this.prefix.length);)t.setSelectionRange(t.selectionStart-1,t.selectionStart-1);this.suffixCheckOnPressDelete(e.keyCode,t)}this.suffixCheckOnPressDelete(e.keyCode,t),this._maskService.prefix.length&&t.selectionStart<=this._maskService.prefix.length&&t.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();const s=t.selectionStart;8!==e.keyCode||t.readOnly||0!==s||t.selectionEnd!==t.value.length||0===t.value.length||(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart?t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===e.keyCode&&!0===e.ctrlKey||65===e.keyCode&&!0===e.metaKey)&&(t.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=t.selectionStart,this._maskService.selEnd=t.selectionEnd}writeValue(e){return Object(r.__awaiter)(this,void 0,void 0,(function*(){void 0===e&&(e=""),"number"==typeof e&&(e=String(e),e="."!==this.decimalMarker?e.replace(".",this.decimalMarker):e,this._maskService.isNumberValue=!0),this._maskService.formElementProperty=e&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?["value",this._maskService.applyMask(e,this._maskService.maskExpression)]:["value",e],this._inputValue=e}))}registerOnChange(e){this.onChange=e,this._maskService.onChange=this.onChange}registerOnTouched(e){this.onTouch=e}suffixCheckOnPressDelete(e,t){46===e&&this.suffix.length>0&&this._inputValue.length-this.suffix.length<=t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),8===e&&(this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),1===this.suffix.length&&this._inputValue.length===t.selectionStart&&t.setSelectionRange(t.selectionStart-1,t.selectionStart-1))}setDisabledState(e){this._maskService.formElementProperty=["disabled",e]}onModelChange(e){e||(this._maskService.actualValue="")}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split("").reduce((t,s,i)=>{if(this._start="{"===s?i:this._start,"}"!==s)return this._maskService._findSpecialChar(s)?t+s:t;this._end=i;const r=Number(e.slice(this._start+1,this._end));return t+new Array(r+1).join(e[this._start-1])},"")||e}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(e){const t=this._maskValue.split("").filter(e=>":"!==e).length;return null===e||0===e.length?null:0==+e[e.length-1]&&e.length<t||e.length<=t-2?this._createValidationError(e):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(e){return{mask:{requiredMask:this._maskValue,actualValue:e}}}}class p{static forRoot(e){return{ngModule:p,providers:[{provide:a,useValue:e},{provide:l,useValue:h},{provide:n,useFactory:g,deps:[l,a]},u]}}static forChild(e){return{ngModule:p}}}function g(e,t){return Object.assign({},e,t instanceof Function?t():t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self},jQxp:function(e,t,s){"use strict";var i=s("8Y7J"),r=s("MKJQ"),n=s("sZkV"),a=s("EFqu");s.d(t,"a",(function(){return c}));var l=i.ob({encapsulation:0,styles:[[".modal-icons[_ngcontent-%COMP%]{--background:transparent;padding-top:var(--ion-safe-area-top);z-index:99999}.modal-icons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2rem}ion-content[_ngcontent-%COMP%]{--background:#000;overflow:hidden}.close-button[_ngcontent-%COMP%]{position:relative;z-index:2}ion-slides#image-modal[_ngcontent-%COMP%]{height:100vh;position:fixed;top:0;z-index:1;width:100%}"]],data:{}});function h(e){return i.Mb(0,[(e()(),i.qb(0,0,null,null,12,"ion-content",[["forceOverscroll","false"],["fullscreen",""],["scrollX","false"],["scrollY","false"]],null,null,null,r.db,r.l)),i.pb(1,49152,null,0,n.v,[i.h,i.k,i.x],{forceOverscroll:[0,"forceOverscroll"],fullscreen:[1,"fullscreen"],scrollX:[2,"scrollX"],scrollY:[3,"scrollY"]},null),(e()(),i.qb(2,0,null,0,5,"ion-item",[["class","modal-icons ion-no-padding ion-text-center"],["lines","none"]],null,null,null,r.mb,r.u)),i.pb(3,49152,null,0,n.I,[i.h,i.k,i.x],{lines:[0,"lines"]},null),(e()(),i.qb(4,0,null,0,3,"ion-button",[["class","ion-no-margin close-button"],["color","light"],["fill","clear"],["slot","end"]],null,[[null,"click"]],(function(e,t,s){var i=!0;return"click"===t&&(i=!1!==e.component.close()&&i),i}),r.V,r.d)),i.pb(5,49152,null,0,n.l,[i.h,i.k,i.x],{color:[0,"color"],fill:[1,"fill"]},null),(e()(),i.qb(6,0,null,0,1,"ion-icon",[["name","close"]],null,null,null,r.ib,r.q)),i.pb(7,49152,null,0,n.D,[i.h,i.k,i.x],{name:[0,"name"]},null),(e()(),i.qb(8,0,null,0,4,"ion-slides",[["id","image-modal"]],null,null,null,r.yb,r.G)),i.pb(9,49152,null,0,n.pb,[i.h,i.k,i.x],{options:[0,"options"]},null),(e()(),i.qb(10,0,null,0,2,"ion-slide",[],null,null,null,r.xb,r.F)),i.pb(11,49152,null,0,n.ob,[i.h,i.k,i.x],null,null),(e()(),i.qb(12,0,null,0,0,"img",[],[[8,"alt",0],[8,"src",4]],null,null,null,null))],(function(e,t){var s=t.component;e(t,1,0,"false","","false","false"),e(t,3,0,"none"),e(t,5,0,"light","clear"),e(t,7,0,"close"),e(t,9,0,s.sliderOpts)}),(function(e,t){var s=t.component;e(t,12,0,i.ub(1,"",s.img,""),s.img)}))}function o(e){return i.Mb(0,[(e()(),i.qb(0,0,null,null,1,"app-image-view",[],null,null,null,h,l)),i.pb(1,49152,null,0,a.a,[n.Fb],null,null)],null,null)}var c=i.mb("app-image-view",a.a,o,{img:"img"},{},[])},"jT/F":function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var i=s("lGQG"),r=s("iqUP"),n=s("XNiG"),a=s("8Y7J");let l=(()=>{class e{constructor(e){this.authService=e,this.basePath="/uploads",this.baseFolder=`${this.basePath}/${this.authService.getLogin()}`,this.completed$=new n.a}pushFileToStorage(e){const t=r.storage().ref().child(`${this.baseFolder}/image_${Date.now()}`).put(e);t.on(r.storage.TaskEvent.STATE_CHANGED,e=>{},e=>{console.log(e)},()=>{t.snapshot.ref.getDownloadURL().then(e=>{this.completed$.next(e)})})}}return e.ngInjectableDef=a.Qb({factory:function(){return new e(a.Rb(i.a))},token:e,providedIn:"root"}),e})()},jbVo:function(e,t,s){"use strict";s("/LYu"),s("68W0"),s("1jS7"),s("SZog"),s("mrSG"),s("EFqu"),s("/9Oo"),s("Ewk1"),s("6XD3"),s.d(t,"a",(function(){return i}));class i{}},ndxW:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var i=s("XNiG"),r=s("8Y7J");let n=(()=>{class e{constructor(){this.stateChanged=new i.a}}return e.ngInjectableDef=r.Qb({factory:function(){return new e},token:e,providedIn:"root"}),e})()},usHs:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));class i{constructor(){}}}}]);